<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Doctor Alice and Cloud Native Bob, my favorite Machine Learning users</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Doctor Alice and Cloud Native Bob, my favorite Machine Learning users</h1>
</header>
<section data-field="subtitle" class="p-summary">
Alice and Bob are great, which is just as well because I meet them everywhere I go! They’re passionate, hardworking people who try their…
</section>
<section data-field="body" class="e-content">
<section name="b61f" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="4d76" id="4d76" class="graf graf--h3 graf--leading graf--title">Doctor Alice and Cloud Native Bob, my favorite Machine Learning users</h3><p name="2c7c" id="2c7c" class="graf graf--p graf-after--h3">Alice and Bob are great, which is just as well because I meet them everywhere I go! They’re passionate, hardworking people who try their best to build great Machine Learning solutions. Unfortunately, a lot of things stand in their way, and slow them down.</p><p name="7d69" id="7d69" class="graf graf--p graf-after--p">It’s my job to listen to and help all the Alices and Bobs out there :) In this post, I’ll try to summarize the challenges that they’re facing, how they can start solving them with AWS services in general, and Amazon SageMaker in particular.</p><figure name="f25a" id="f25a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*xeK5KLrjgjQBslSvuY4b9A.jpeg" data-width="720" data-height="480" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*xeK5KLrjgjQBslSvuY4b9A.jpeg"><figcaption class="imageCaption">Tell me about your first GPU cluster.</figcaption></figure><p name="2586" id="2586" class="graf graf--p graf-after--figure graf--trailing">Believe it or not, I promise that everything you read below is 100% based on numerous customer interactions.</p></div></div></section><section name="a32d" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="f41d" id="f41d" class="graf graf--h3 graf--leading">Doctor Alice</h3><p name="78a1" id="78a1" class="graf graf--p graf-after--h3">Alice has a PhD and works in a large public research lab. She’s a trained data scientist, with a strong background in math and statistics.</p><p name="28b8" id="28b8" class="graf graf--p graf-after--p">She spends her time on large scientific projects (life sciences, physics, etc.), involving bulky data sets (several terabytes, often more). She can write data analysis code in high-level languages like Matlab, R and Python: maybe it’s not great looking, but it does the trick.</p><p name="a07e" id="a07e" class="graf graf--p graf-after--p">Alice generally doesn’t know much about IT and infrastructure, and she honestly doesn’t care at all for these topics. Her focus is on advancing her research, publishing papers, and so on: everything else is “<em class="markup--em markup--p-em">just a tool</em>”.<br> <br>For her daily work, she can rely on her own powerful (but expensive) desktop workstation: high-end Intel CPU, 64GB RAM, 4TB of local storage, and a couple of mid-end NVIDIA GPUs. She considers herself lucky to have one (not all her colleagues do), and she enjoys the fact that she can work “<em class="markup--em markup--p-em">on her own</em>”. Still, she can only experiment with a fraction of her dataset if she wants to keep training times reasonable.</p><p name="c826" id="c826" class="graf graf--p graf-after--p">She runs long workloads every night and every weekend, hoping that they won’t crash… or that no one will turn the power off in her office. When that happens, she sighs and just launches the job again. “<em class="markup--em markup--p-em">What of waste of time and power</em>”, she thinks, but there’s nothing she can do about it.<br> <br>She tries to maintain the software configuration of her machine herself, as IT doesn’t know much about the esoteric tools she uses. Still, she wishes someone would do that for her: NVIDIA drivers, Tensorflow dependencies and so on feel quite confusing. When something goes wrong, she wastes precious hours fixing “<em class="markup--em markup--p-em">IT stuff</em>” and that’s frustrating.<br> <br>When Alice wants to run large experiments, she has to use remote servers hosted in the Computing Centre: a farm of very powerful multi-GPU servers, connected to a Petabyte of NAS storage. Of course, she has to share these servers with other researchers. Every week, the team leads meet and try to prioritize projects and workloads: this is never easy, and decisions often need to be escalated to the lab director. Valuable time is wasted, and sometimes experiments cannot complete in time for conference submission deadlines. The director promises that next year’s budget will account for more servers, but even if they get approved, it will take many months to procure and deploy them.<br> <br>To try and help with workload scheduling, Alice has hired a summer intern to write a simple intranet portal where researchers can manually reserve servers. It kind of works, but sometimes her colleagues forget to release servers… or maybe they’re reluctant to release them because they know they’ll have to wait to get another one. Alice thinks that there must be a better way, but it’s not her job to fix that. Anyway, she tries to make do with what she can get her hands on. She can’t help but think that she’d make much more progress if her experiments weren’t capacity-bound.<br> <br>Last but not least, Alice has been invited to collaborate with a world-class lab located on another continent. For the last month, she’s been trying to figure out how to share data and infrastructure with them. Connectivity is complicated, and data transfers are almost impossible given the size of the data sets. Again, “<em class="markup--em markup--p-em">IT stuff</em>” stands in the way of her research, and she’s starting to think that there must be a quicker and easier way to do all of this… Maybe that cloud computing thing can help?</p><h3 name="c293" id="c293" class="graf graf--h3 graf-after--p">Doctor Alice in SageMaker land</h3><p name="e936" id="e936" class="graf graf--p graf-after--h3">After some personal research and weeks of internal discussions, Alice has convinced the lab director to let her experiment with AWS, specifically with that Amazon SageMaker service that looks interesting.</p><p name="6c59" id="6c59" class="graf graf--p graf-after--p graf--trailing">In just a few hours, she’s read the online documentation, quickly created an inexpensive <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/nbi.html" data-href="https://docs.aws.amazon.com/sagemaker/latest/dg/nbi.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">notebook instance</a> and started running some <a href="https://github.com/awslabs/amazon-sagemaker-examples" data-href="https://github.com/awslabs/amazon-sagemaker-examples" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">sample notebooks</a> to become familiar with the service and its typical workflow. Even though she doesn’t know much about AWS or Python, she’s confident that the <a href="https://github.com/aws/sagemaker-python-sdk" data-href="https://github.com/aws/sagemaker-python-sdk" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">SageMaker SDK</a> is all that she needs, and that she’ll be up to speed in no time. She even found a sample notebook on how to create a custom environment for her beloved <a href="https://github.com/awslabs/amazon-sagemaker-examples/tree/master/advanced_functionality/r_bring_your_own" data-href="https://github.com/awslabs/amazon-sagemaker-examples/tree/master/advanced_functionality/r_bring_your_own" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">R language</a>! <br> <br>With a little help from IT, Alice uploads a few Terabytes of real-life data to <a href="https://aws.amazon.com/s3/" data-href="https://aws.amazon.com/s3/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Amazon S3</a>, in order to replicate her desktop environment on Amazon SageMaker. After more reading, she learns that a few lines of code are all it takes to <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/how-it-works-training.html" data-href="https://docs.aws.amazon.com/sagemaker/latest/dg/how-it-works-training.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">train her model</a> on managed instances, and that she’ll only pay for what she actually uses. She can even train her models on as many<a href="https://aws.amazon.com/ec2/instance-types/p3/" data-href="https://aws.amazon.com/ec2/instance-types/p3/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"> <em class="markup--em markup--p-em">p3.16xlarge</em></a> instances as she needs: each one is equipped with eight NVIDIA V100 GPUs! That’s the same configuration as those large servers in the Computing Center. She can now create them on demand: no more arguing with other teams.<br> <br>Thanks to advanced features such as Distributed Training and <a href="https://aws.amazon.com/blogs/machine-learning/accelerate-model-training-using-faster-pipe-mode-on-amazon-sagemaker/" data-href="https://aws.amazon.com/blogs/machine-learning/accelerate-model-training-using-faster-pipe-mode-on-amazon-sagemaker/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Pipe Mode</a>, Alice finds it easy to train models on her large data sets: everything works out of the box and scales nicely. Alice is also happy to see that SageMaker includes an <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/automatic-model-tuning.html" data-href="https://docs.aws.amazon.com/sagemaker/latest/dg/automatic-model-tuning.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Automatic Model Tuning</a> module: thanks to this, she’s able to significantly improve the accuracy of her models in just a few hours of parallel optimization. Doing this with her previous setup would have been impossible due to lack of computing resources.<br> <br><a href="https://docs.aws.amazon.com/sagemaker/latest/dg/deploy-model.html" data-href="https://docs.aws.amazon.com/sagemaker/latest/dg/deploy-model.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Deploying models</a> is straightforward: Alice has a choice of deploying models to real-time endpoints, or of running batch predictions. The latter is most useful to her, as she needs to infrequently predict vast amounts of data. Again, all it takes is a couple of lines of code: she actually copy-pasted everything from a sample notebook.<br> <br>Last but not least, keeping track of her expenses is easy: the AWS console tells her how much she’s spent, and Alice can also set up budget alerts.<br> <br>Talking to her IT colleagues, Alice realizes that there’s so much more to AWS. It looks like the lab could use a service called <a href="https://aws.amazon.com/snowball" data-href="https://aws.amazon.com/snowball" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">AWS Snowball</a> to easily upload hundreds of Terabytes to Amazon S3! And it doesn’t look really complicated to share that data with other labs and universities who are already AWS customers. Alice is looking forward to the increased pace of collaboration and innovation!<br> <br> In just a week or so, her whole view on IT has changed. “<em class="markup--em markup--p-em">This cloud stuff is actually very cool</em>”, she says. “<em class="markup--em markup--p-em">IT used to stand in the way, but now AWS is really helping me deliver better results, quicker and cheaper than before</em>”.</p></div></div></section><section name="813f" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="e030" id="e030" class="graf graf--h3 graf--leading">Cloud Native Bob</h3><p name="c211" id="c211" class="graf graf--p graf-after--h3">Bob works in a large company. He’s a backend software engineer, and he’s been working with data for as long as he can remember: SQL, NoSQL, Hadoop, Spark and now Machine Learning. Using off the shelf libraries (mostly scikit-learn, and a bit of Tensorflow), Bob and his teammates crunch enterprise data to train hundreds of ML models: linear regression, classification, segmentation, etc. The heavy lifting (ETL, cleaning, feature engineering) is run a large Spark cluster.<br> <br>Bob’s company has been using AWS for more than five years. All development, QA and production infrastructure are hosted there, and they’re big fans of DevOps and Cloud Native technology. Initially, they built everything on <a href="https://aws.amazon.com/ec2/" data-href="https://aws.amazon.com/ec2/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Amazon EC2</a>, because they felt that having full control was important. Two years ago, they moved their Spark cluster to <a href="https://aws.amazon.com/emr/" data-href="https://aws.amazon.com/emr/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Amazon EMR</a>, and also decided to standardize production with Docker containers: 100% of their workloads are now deployed to a large <a href="https://aws.amazon.com/eks/" data-href="https://aws.amazon.com/eks/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Amazon EKS</a> cluster, because Kubernetes is “<em class="markup--em markup--p-em">so cool</em>” and also because of the seamless development experience from laptop to production. They’ve set up all their CI/CD toolchain according, and automated everything with Terraform. Cost is optimized with <a href="https://aws.amazon.com/ec2/autoscaling/" data-href="https://aws.amazon.com/ec2/autoscaling/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Auto Scaling</a> and <a href="https://aws.amazon.com/ec2/spot/" data-href="https://aws.amazon.com/ec2/spot/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Spot Instances</a>. These guys really know their stuff, and they’ve been asked to present their architecture at the next AWS Summit. Hell yeah.<br> <br>Of course, their ML workloads also run on EKS clusters (mostly on CPU instances, with some GPU). Bob maintains bespoke containers for training and prediction: libraries, dependencies, etc. That takes a bit of time, but he enjoys doing it. He just hopes that no one will ask him to do Pytorch and Apache MXNet too. Bob has heard about the <a href="https://aws.amazon.com/machine-learning/amis/" data-href="https://aws.amazon.com/machine-learning/amis/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Deep Learning AMI</a> and <a href="https://aws.amazon.com/machine-learning/containers/" data-href="https://aws.amazon.com/machine-learning/containers/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Deep Learning containers</a>. Checking that stuff out is on his to-do list, but he doesn’t have time right now.<br> <br>Initially, Bob wanted to let every data scientist create their own on demand cluster with a Terraform template, but he became concerned that costs would be hard to manage. Moreover, creating a cluster would take 15–20 minutes, which the team would definitely have complained about. Instead, Bob has set up a large shared training cluster: users can start their distributed jobs in seconds, and it’s just simpler for Bob to manage a single cluster. Auto Scaling is set up, but capacity planning is still needed to find the right mix of Reserved, Spot and On Demand instances.</p><p name="939e" id="939e" class="graf graf--p graf-after--p">Bob has a weekly meeting with the team to make sure they’ll have enough instances… and they also ping him on Slack when they need extra capacity on the fly. Bob tries to automatically reduce capacity at night and on weekends when the cluster is less busy, but he’s quite sure they’re spending too much anyway. Oh well.<br> <br>Once models have been trained and validated, Bob pushes them to CI/CD and they get deployed automatically to the production cluster. Green/blue deployment, service discovery, Auto Scaling, logs pushed to an <a href="https://aws.amazon.com/elasticsearch-service/" data-href="https://aws.amazon.com/elasticsearch-service/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ElasticSearch</a> cluster, etc.: the whole nine yards. Bob is very proud of the level of automation he’s built into the system, and rightly so.</p><h3 name="a46e" id="a46e" class="graf graf--h3 graf-after--p">Cloud Native Bob in SageMaker land</h3><p name="9c5c" id="9c5c" class="graf graf--p graf-after--h3">Bob has watched an <a href="https://www.youtube.com/watch?v=ym7NEYEx9x4" data-href="https://www.youtube.com/watch?v=ym7NEYEx9x4" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">AWS video</a> on SageMaker. He likes the fact that training and prediction are based on Docker, and that the containers for the built-in frameworks are <a href="https://github.com/aws/sagemaker-scikit-learn-container" data-href="https://github.com/aws/sagemaker-scikit-learn-container" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">open source</a>: no need to maintain his own containers, then.</p><p name="de90" id="de90" class="graf graf--p graf-after--p">Migrating the training workloads to SageMaker looks easy enough: Bob could get rid of the EKS training cluster, and let every data scientist train completely on demand. With Spot Instances <a href="https://aws.amazon.com/blogs/aws/aws-new-york-summit-2019-summary-of-launches-announcements/" data-href="https://aws.amazon.com/blogs/aws/aws-new-york-summit-2019-summary-of-launches-announcements/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">coming soon</a>, Bob could certainly optimize training costs even more.</p><p name="2711" id="2711" class="graf graf--p graf-after--p graf--trailing">As far as prediction is concerned, Bob would consider moving the batch jobs to SageMaker, but not the real-time APIs: these must be deployed to EKS, as per company policy. That’s not a problem, as he can reuse the same containers.<br> <br>A few weeks later, Bob has implemented all these changes. The data science team is now fully autonomous from experimentation to training, which they love: capacity is never a problem anymore, and the weekly meeting has become unnecessary. Also, as SageMaker provides a traceable history of trained models, Bob also finds it easier to automate model retraining and redeployment: previously, he’d have to ask the data science team to do it, the process was too uncertain for him to handle.<br> <br>Advanced features like Distributed Training, Pipe Mode and Automatic Model Tuning are also pretty sweet. The data science team has adopted them very quickly, and this saves them a lot of time. Plus, they no longer have to maintain the kludgy code they had written to implement something similar. <br> <br>There’s only one problem: now, Bob has to update his AWS Summit slides to account for the SageMaker use case. Maybe the local Evangelist can help him with that? ;)</p></div></div></section><section name="b37a" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="3aab" id="3aab" class="graf graf--p graf--leading">As always, thank you for reading. Happy to answer questions here or on <a href="https://twitter.com/julsimon/" data-href="https://twitter.com/julsimon/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Twitter</a> (DMs are open). Feel free to share your own anecdotes too!</p><p name="23a9" id="23a9" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">I raise my horn to the Alices and Bobs of the world. Keep building, my M(eta)L brothers and sisters :)</em></p><figure name="fd3b" id="fd3b" class="graf graf--figure graf--iframe graf-after--p graf--trailing"><iframe src="https://www.youtube.com/embed/FLQnrOZmZoc?feature=oembed" width="700" height="393" frameborder="0" scrolling="no"></iframe></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@julsimon" class="p-author h-card">Julien Simon</a> on <a href="https://medium.com/p/5c2b36998e0d"><time class="dt-published" datetime="2019-07-20T00:47:09.492Z">July 20, 2019</time></a>.</p><p><a href="https://medium.com/@julsimon/doctor-alice-and-cloud-native-bob-my-favorite-machine-learning-users-5c2b36998e0d" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on July 26, 2025.</p></footer></article></body></html>
